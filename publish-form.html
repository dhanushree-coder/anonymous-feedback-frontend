<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Publish Form</title>
    <link rel="stylesheet" href="publish-form.css">
    <link rel="stylesheet" href="school-templates.css">
</head>

<body>

<div class="publish-container">
    <div class="publish-box">

        <h2>Publish Form</h2>
        <p class="subtext">Generate a public link to share this form</p>

        <p id="formInfo" class="subtext"></p>
        <p id="errorBox" class="subtext"></p>

        <div id="linkSection" style="display:none;">

            <!-- LINK + COPY ICON -->
            <div class="publish-link-box">
                <span id="generatedLink"></span>

                <span class="copy-icon" title="Copy link" onclick="copyFormLink()">
                    ðŸ“‹
                </span>
            </div>

            <p class="publish-label">Click the icon to copy the form link</p>
        </div>

        <button id="generateBtn" class="primary-btn" onclick="generateLink()">
            Generate Link
        </button>

        <div class="publish-actions">
            <button class="secondary-btn" onclick="window.history.back()">Back</button>
        </div>

    </div>
</div>

<script>
function generateLink() {
    const linkSection = document.getElementById("linkSection");
    const linkText = document.getElementById("generatedLink");

    const generatedURL = "https://yourdomain.com/form/view?id=12345"; // sample

    linkText.textContent = generatedURL;
    linkSection.style.display = "block";
}

function copyFormLink() {
    const text = document.getElementById("generatedLink").textContent;

    navigator.clipboard.writeText(text).then(() => {
        alert("Link copied successfully!");
    }).catch(() => {
        alert("Failed to copy link");
    });
}
</script>

</body>
</html>
